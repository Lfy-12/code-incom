<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>后盾人12章</title>
</head>
<body>
    <script >
        // 在过去JS不支持模块时我们使用AMD/CMD（浏览器端使用）、CommonJS（Node.js使用）、UMD(两者都支持)等形式定义模块。
        // AMD 代表性的是  require.js
        // CMD 代表是淘宝的 sea.JS框架

        let module = (function(){
            // 模块列表集合
            const moduleLists = {};
            function define(name,modules,action){
                modules.map((m,i)=>{
                    modules[i]=moduleLists[m];
                })
                // 执行并保存模块
                moduleLists[name] = action.apply(null,modules);a
            }

            return {define};
        })();

        // 声明模块不依赖其他模块
        module.define('hd',[],function(){
            return{
                name:'lfy',
                show(){
                    console.log('hd module show');
                }
            }
        })

        // 声明模块时依赖其他模块
        module.define('a',['hd'],function(hd){
            hd.name = 'llffyy'
            hd.show()
        })

        // 改变模块中的值后。。。。
        module.define('b',['hd'],function(hd){
            console.log(hd.name);
        })
    </script>
</body>
</html>